(this["webpackJsonpnews-explorer-frontend"]=this["webpackJsonpnews-explorer-frontend"]||[]).push([[0],Array(28).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),r=n(20),c=n.n(r),o=n(4),l=(n(28),n(2)),u=n(3),p=(n(29),n(30),n(31),n.p+"static/media/logout_white.1f2ed6dd.svg"),d="news-card__check",j="news-card__check-marked",h=i.a.createContext(),b=n.p+"static/media/logout.4fb874ec.svg";var _=function(e){var t=e.openSavedBurgerMenu,n=e.onSignOut,s=i.a.useContext(h);return Object(a.jsxs)("ul",{className:"navigation__ul",children:[Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__logo navigation__logo_black",to:"/",children:"NewsExplorer"})}),Object(a.jsxs)("div",{className:"navigation__container",children:[Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__main-link navigation__main-link_black",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__saved-news navigation__saved-news_black",to:"/saved-news",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"})}),Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsxs)("button",{onClick:function(e){return"navigation__btn-logout"===e.target.className&&n()},className:"navigation__btn-logout","aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",type:"button",children:[s.user,Object(a.jsx)("img",{src:b,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",className:"navigation__img-logout"})]})}),Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)("button",{onClick:function(){t(!0)},className:"navigation__butter navigation__butter_black"})})]})]})};var m=function(e){var t=e.loggedIn,n=e.onSignOut,s=e.onOpenAuthorization,r=e.openBurgerMenu,c=e.isOpenAuthor,l=e.isOpenRegistr,d=e.isOpenSignSucc,j=e.openSavedBurgerMenu,b="/"===Object(u.h)().pathname,m=i.a.useContext(h),O=function(e){return"navigation__btn-authorization"===e.target.className?s():n()},g="";return g=(l||c||d)&window.innerWidth<401?"navigation navigation_disable":"navigation",Object(a.jsx)("nav",{className:g,children:b?Object(a.jsxs)("ul",{className:"navigation__ul",children:[Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__logo",to:"/",children:"NewsExplorer"})}),Object(a.jsxs)("div",{className:"navigation__container",children:[Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__main-link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)(o.b,{className:"navigation__saved-news",to:"/saved-news",children:t?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438":""})}),t?Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsxs)("button",{onClick:O,className:"navigation__btn-logout navigation__btn-logout_main","aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",type:"button",children:[m.user,Object(a.jsx)("img",{src:p,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",className:"navigation__img-logout"})]})}):Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)("button",{onClick:O,className:"navigation__btn-authorization","aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",type:"button",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(a.jsx)("li",{className:"navigation__li",children:Object(a.jsx)("button",{onClick:function(){r(!0)},className:"navigation__butter"})})]})]}):Object(a.jsx)(_,{openSavedBurgerMenu:j,onSignOut:n})})};var O=function(e){var t=e.loggedIn,n=e.onSignOut,s=e.onOpenAuthorization,i=e.onClose,r=e.openBurgerMenu,c=e.isOpenAuthor,o=e.isOpenRegistr,l=e.isOpenSignSucc,u=e.openSavedBurgerMenu;return Object(a.jsx)("header",{className:"header",children:Object(a.jsx)(m,{loggedIn:t,onSignOut:n,onOpenAuthorization:s,onClose:i,openBurgerMenu:r,isOpenAuthor:c,isOpenRegistr:o,isOpenSignSucc:l,openSavedBurgerMenu:u})})},g=(n(37),n(9)),f=n(6);n(38);function x(){var e=i.a.useState({}),t=Object(l.a)(e,2),n=t[0],a=t[1],s=i.a.useState({}),r=Object(l.a)(s,2),c=r[0],o=r[1],u=i.a.useState(!1),p=Object(l.a)(u,2),d=p[0],j=p[1],h=i.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a(e),o(t),j(n)}),[a,o,j]);return{values:n,handleChange:function(e){var t=e.target,s=t.name,i=t.value;a(Object(f.a)(Object(f.a)({},n),{},Object(g.a)({},s,i))),o(Object(f.a)(Object(f.a)({},c),{},Object(g.a)({},s,t.validationMessage))),j(t.closest("form").checkValidity())},errors:c,isValid:d,resetForm:h,setIsValid:j,setErrors:o}}var v=function(e){var t=e.setKeyword,n=x(),s=n.values,i=n.handleChange,r=n.errors,c=n.isValid,o=n.resetForm,l=n.setErrors,u=s.searchInput;return Object(a.jsxs)("form",{noValidate:!0,className:"search",name:"search",method:"GET",onSubmit:function(e){e.preventDefault(),u&&t(u),o(),function(e){var t=e.target.closest("form").searchInput,n=t.name;l(Object(f.a)(Object(f.a)({},r),{},Object(g.a)({},n,t.validationMessage)))}(e)},children:[Object(a.jsxs)("label",{className:"search__label",children:[Object(a.jsx)("input",{required:!0,minLength:"2",maxLength:"30",type:"search",className:"search__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043c\u0443 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",id:"search",name:"searchInput",value:u||"",onChange:i}),Object(a.jsx)("span",{id:"search-input-error",className:c?"search__input-error search__input-error_visible":"search__input-error",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u043e \u043f\u043e\u043b\u0435."===r.searchInput?"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e":r.searchInput})]}),Object(a.jsx)("button",{className:!u||c?"search__button":"search__button search__button_lock",type:"submit",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})},N=(n(39),n.p+"static/media/greta.0a21f444.jpg");var w=function(){return Object(a.jsxs)("section",{className:"about",children:[Object(a.jsx)("img",{className:"about__avatar",src:N,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(a.jsxs)("div",{className:"about__content",children:[Object(a.jsx)("h2",{className:"about__title",children:"\u041e\u0431 \u0430\u0432\u0442\u043e\u0440\u0435"}),Object(a.jsx)("p",{className:"about__subtitle",children:"\u042d\u0442\u043e \u0431\u043b\u043e\u043a \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c \u0430\u0432\u0442\u043e\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0417\u0434\u0435\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043a\u0430\u043a \u0432\u0430\u0441 \u0437\u043e\u0432\u0443\u0442, \u0447\u0435\u043c \u0432\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0435\u0441\u044c, \u043a\u0430\u043a\u0438\u043c\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f\u043c\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043b\u0430\u0434\u0435\u0435\u0442\u0435."}),Object(a.jsx)("p",{className:"about__subtitle",children:"\u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u0432 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435, \u0447\u0435\u043c\u0443 \u0432\u044b \u0442\u0443\u0442 \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0438 \u0447\u0435\u043c \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\u043c."})]})]})};n(40),n(41),n(42);var A=function(e){var t=e.loggedIn,n=e.onAddArticles,s=e.article,r=e.handleCardDelete,c=e.keywordResArticles,o=e.saveArticles,p=e.onOpenAuthorization,h=e.resAddArticle,b="/"===Object(u.h)().pathname,_=function(){var e=i.a.useRef(),t="";function n(){if(e.current){e.current.innerHTML=t;for(var n=t.split(" ");e.current.offsetHeight<e.current.scrollHeight;)n.pop(),e.current.innerHTML="".concat(n.join(" "),"...")}}return i.a.useEffect((function(){t=e.current.innerHTML,window.addEventListener("resize",n),n()})),{textRef:e}}().textRef,m=i.a.useState(d),O=Object(l.a)(m,2),g=O[0],f=O[1];function x(e){r(b?e:s)}i.a.useEffect((function(){o.find((function(e){return e.link===s.url&&f(j)}))}),[o,s.url]);var v=new Date(s.publishedAt||s.date).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"}),N="".concat(v.slice(0,-8),", ").concat(v.slice(-7,-2));return Object(a.jsxs)("section",{className:"news-card",children:[Object(a.jsxs)("div",{className:"news-card__img-place",children:[b?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"news-card__keyword",children:Object(a.jsx)("p",{className:"news-card__keyword-text",children:s.keyword})}),b?Object(a.jsx)("div",{className:"news-card__btn-container",children:Object(a.jsx)("button",{"aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a",onClick:function(e){(!t&&p(),e.target.className===d)?t&&n({keyword:c,article:s}):x(o.find((function(e){return e.link===s.url})));e.target.className===d?h&&f(j):f(d)},className:g})}):Object(a.jsx)("div",{className:"news-card__btn-container",children:Object(a.jsx)("button",{onClick:x,type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a",className:"news-card__trash"})}),Object(a.jsx)("img",{className:"news-card__img",src:s.urlToImage||s.image,alt:"\u0418\u043b\u043b\u044e\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u0438"})]}),Object(a.jsxs)("div",{className:"news-card__text-place",children:[Object(a.jsx)("p",{className:"news-card__date",children:N}),Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"news-card__link",href:s.url||s.link,children:Object(a.jsx)("h2",{className:"news-card__title",children:s.title})}),Object(a.jsx)("p",{className:"news-card__text",ref:_,children:s.description||s.text}),Object(a.jsx)("p",{className:"news-card__source",children:s.source.name||s.source})]})]})};var k=function(e){var t=e.articles,n=e.keyword,s=e.loggedIn,i=e.onAddArticles,r=e.saveArticles,c=e.handleCardDelete,o=e.keywordResArticles,l=e.onOpenAuthorization,p="/"===Object(u.h)().pathname;return Object(a.jsx)("section",{className:"news-list",children:(p?t:r).map((function(e,u){return Object(a.jsx)(A,{article:e,keyword:n,loggedIn:s,onAddArticles:i,handleCardDelete:c,articles:t,saveArticles:r,keywordResArticles:o,onOpenAuthorization:l},u)}))})};var S=function(e){var t=e.articles,n=e.keyword,s=e.loggedIn,r=e.onAddArticles,c=e.handleCardDelete,o=e.saveArticles,u=e.onOpenAuthorization,p=e.resAddArticle,d=i.a.useState(3),j=Object(l.a)(d,2),h=j[0],b=j[1],_=i.a.useState(!0),m=Object(l.a)(_,2),O=m[0],g=m[1],f=t.keyword;return Object(a.jsxs)("section",{className:"results",children:[Object(a.jsx)("h2",{className:"results__title",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(a.jsx)(k,{articles:t.resArticles.slice(0,h),keyword:n,loggedIn:s,onAddArticles:r,handleCardDelete:c,saveArticles:o,keywordResArticles:f,onOpenAuthorization:u,resAddArticle:p}),O?Object(a.jsx)("button",{onClick:function(){b(h+3),h>=t.resArticles.length-2&&g(!1)},className:"results__btn","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}):Object(a.jsx)(a.Fragment,{})]})};n(43),n(44);var C=function(){return Object(a.jsx)("i",{className:"preloader__circle"})};var y=function(){return Object(a.jsxs)("section",{className:"preloader preloader_noresult",children:[Object(a.jsx)(C,{}),Object(a.jsx)("h2",{className:"preloader__title",children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."})]})};n(45);var R=function(){return Object(a.jsxs)("section",{className:"notfound",children:[Object(a.jsx)("div",{className:"notfound__img"}),Object(a.jsxs)("div",{className:"notfound__textplace",children:[Object(a.jsx)("h2",{className:"notfound__title",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),Object(a.jsx)("p",{className:"notfound__subtitle",children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})};var I=function(e){var t=e.onSignOut,n=e.onOpenAuthorization,s=e.onClose,i=e.openBurgerMenu,r=e.isOpenAuthor,c=e.isOpenRegistr,o=e.isOpenSignSucc,l=e.articles,u=e.setKeyword,p=e.keyword,d=e.isLoading,j=e.noResult,h=e.loggedIn,b=e.onAddArticles,_=e.handleCardDelete,m=e.saveArticles,g=e.resAddArticle;return Object(a.jsxs)("section",{className:"main",children:[Object(a.jsx)(O,{onSignOut:t,onOpenAuthorization:n,onClose:s,openBurgerMenu:i,isOpenAuthor:r,isOpenRegistr:c,isOpenSignSucc:o,loggedIn:h}),Object(a.jsxs)("div",{className:"main__title-container",children:[Object(a.jsx)("h1",{className:"main__title",children:"\u0427\u0442\u043e \u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0432 \u043c\u0438\u0440\u0435?"}),Object(a.jsx)("p",{className:"main__subtitle",children:"\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0441\u0432\u0435\u0436\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438 \u043d\u0430 \u043b\u044e\u0431\u0443\u044e \u0442\u0435\u043c\u0443 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0432 \u0441\u0432\u043e\u0451\u043c \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435."})]}),Object(a.jsx)(v,{setKeyword:u}),l.keyword?d?Object(a.jsx)(y,{}):j?Object(a.jsx)(R,{}):Object(a.jsx)(S,{articles:l,keyword:p,loggedIn:h,onAddArticles:b,handleCardDelete:_,saveArticles:m,onOpenAuthorization:n,resAddArticle:g}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(w,{})]})};n(46);var z=function(e){var t=e.saveArticles,n=i.a.useContext(h),s=t.reduce((function(e,t){return!e.includes(t.keyword)&&e.push(t.keyword),e}),[]),r=s.length,c=t.length,o=s.slice(0,2).join(", "),l=s.length-2;function u(e,t){var n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:n>6&&n<9?t[0]:1===n?t[3]:t[2]}var p=u(l,["\u043c\u0438","\u043c","\u0442\u0438","\u0438\u043c"]),d=u(c,["\u044b\u0445","\u044b\u0435","\u044b\u0445","\u0430\u044f"]),j=u(c,["\u0435\u0439","\u044c\u0438","\u0435\u0439","\u044c\u044f"]);return Object(a.jsxs)("section",{className:"sn-header",children:[Object(a.jsx)("p",{className:"sn-header__subtitle",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(a.jsx)("h2",{className:"sn-header__title",children:"".concat(n.user,", \u0443 \u0432\u0430\u0441 ").concat(c," \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d").concat(d," \u0441\u0442\u0430\u0442").concat(j)}),Object(a.jsxs)("p",{className:"sn-header__keywords",children:["\u041f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c:"," ",Object(a.jsxs)("span",{className:"sn-header__span",children:["".concat(o||"")," ",r<3?"":"\u0438 ".concat(l||"","-").concat(p," \u0434\u0440\u0443\u0433\u0438\u043c.")]})]})]})};n(47);var D=function(e){var t=e.openBurgerMenu,n=e.openSavedBurgerMenu,s=e.onClose,i=e.keyword,r=e.onSignOut,c=e.saveArticles,o=e.handleCardDelete,l=e.choiceArticle,u=(e.loggedIn,e.articles);return Object(a.jsxs)("div",{className:"saved-news",children:[Object(a.jsx)(O,{openBurgerMenu:t,openSavedBurgerMenu:n,onClose:s,onSignOut:r}),Object(a.jsx)(z,{saveArticles:c}),Object(a.jsx)(k,{saveArticles:c,keyword:i,handleCardDelete:o,choiceArticle:l,articles:u})]})},E=n.p+"static/media/git.0719b4bc.svg",M=n.p+"static/media/facebook.8fbf7749.svg";n(48);var B=function(){return Object(a.jsxs)("footer",{className:"footer",children:[Object(a.jsx)("p",{className:"footer__copyright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(a.jsxs)("nav",{className:"footer__nav",children:[Object(a.jsxs)("ul",{className:"footer__links",children:[Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)(o.b,{className:"footer__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"https://praktikum.yandex.ru",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})})]}),Object(a.jsxs)("ul",{className:"footer__social",children:[Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"https://github.com/",children:Object(a.jsx)("img",{src:E,className:"footer__icon",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0413\u0438\u0442"})})}),Object(a.jsx)("li",{className:"footer__li",children:Object(a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"footer__link",href:"https://www.facebook.com/",children:Object(a.jsx)("img",{src:M,className:"footer__icon",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u0424\u0435\u0439\u0441\u0431\u0443\u043a"})})})]})]})]})},L=(n(49),function(e){return Object(a.jsx)("section",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_opened":""),onClick:function(t){return t.target.classList.contains("popup")&&e.onClose()&e.resetForm()},children:Object(a.jsxs)("form",{noValidate:!0,onSubmit:e.onSubmit,name:"popup",action:"#",method:"GET",className:"popup__container popup__container_".concat(e.name),children:[Object(a.jsx)("button",{onClick:function(){e.onClose(),e.resetForm()},"aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u0444\u043e\u0440\u043c\u0443-\u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440",className:"popup__btn-close",type:"button"}),e.children]})})}),T=(n(50),function(e){var t=e.onClose,n=e.onOpenAuthorization,s=e.successOpen;return Object(a.jsxs)(L,{name:"signup_success",title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",isOpen:s,onClose:t,children:[Object(a.jsx)("h2",{className:"popup__signup-success-title",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"}),Object(a.jsx)("p",{onClick:function(){return t()&n()},className:"popup__signup-success-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})}),F=(n(51),function(e){var t=e.errorsPassword||e.errorsEmail||e.errorsName;return Object(a.jsxs)(L,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:e.onSubmit,name:e.name,resetForm:e.resetForm,children:[Object(a.jsx)("h2",{className:e.waitResponse?"popup__title-spinner":"popup__title",children:e.title}),e.children,"registration"===e.name&&Object(a.jsx)("span",{className:"popup__error-registration",children:e.error409}),Object(a.jsx)("button",{type:"submit",className:void 0===t||e.isValid?"popup__btn":"popup__btn popup__btn_lock",children:e.nameBtn}),Object(a.jsxs)("p",{onClick:function(t){return"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"===t.target.textContent?e.onClose()&e.onOpenRegistration():e.onClose()&e.onOpenAuthorization()},className:"popup__under-btn-text",children:["\u0438\u043b\u0438 ",Object(a.jsx)("span",{className:"popup__under-btn-link",children:e.textUnderBtn})," "]})]})}),U=(n(52),function(e){var t=e.isOpenAuthor,n=e.onClose,s=e.onOpenRegistration,i=e.onLogin,r=e.waitResponse,c=x(),o=c.values,l=c.handleChange,u=c.errors,p=c.isValid,d=c.resetForm,j=c.setErrors,h=o.email,b=o.password;return Object(a.jsxs)(F,{name:"authorization",nameBtn:"\u0412\u043e\u0439\u0442\u0438",textUnderBtn:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",title:"\u0412\u0445\u043e\u0434",isOpen:t,onClose:n,onOpenRegistration:s,onSubmit:function(e){if(e.preventDefault(),function(e){var t=e.target.closest("form").email,n=t.name;j(Object(f.a)(Object(f.a)({},u),{},Object(g.a)({},n,t.validationMessage)))}(e),p){var t=o.email,a=o.password;i(t,a),n(),d()}},isValid:p,errorsPassword:u.password,errorsEmail:u.email,waitResponse:r,resetForm:d,children:[Object(a.jsxs)("label",{className:"popup__label",children:[Object(a.jsx)("span",{className:"popup__input-title",children:"Email"}),Object(a.jsx)("input",{id:"emailAuthorization-input",autoComplete:"off",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",required:!0,type:"email",className:"popup__input popup__input_mail-authorization",value:h||"",onChange:l}),Object(a.jsx)("span",{id:"emailAuthorization-input-error",className:u?"popup__input-error popup__input-error_visible":"popup__input-error",children:u.email})]}),Object(a.jsxs)("label",{className:"popup__label",children:[Object(a.jsx)("span",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)("input",{id:"passwordAuthorization-input",autoComplete:"off",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,type:"password",minLength:"2",className:"popup__input popup__input_password-authorization",value:b||"",onChange:l}),Object(a.jsx)("span",{id:"mailAuthorization-input-error",className:u?"popup__input-error popup__input-error_visible":"popup__input-error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."===u.password?"\u0421\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0443 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b.":u.password})]})]})}),P=(n(53),function(e){var t=e.isOpenRegistr,n=e.onClose,s=e.onOpenAuthorization,r=e.onRegister,c=e.success,o=e.setSuccessOpen,l=e.error409,u=e.setSuccess,p=e.isLoading,d=e.waitResponse,j=x(),h=j.values,b=j.handleChange,_=j.errors,m=j.isValid,O=j.resetForm,v=j.setErrors,N=h.email,w=h.password,A=h.name;return i.a.useEffect((function(){c&&(n(),O(),o(!0),u(!1))}),[n,O,o,c,u]),Object(a.jsxs)(F,{name:"registration",nameBtn:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",textUnderBtn:"\u0412\u043e\u0439\u0442\u0438",title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",isOpen:t,onClose:n,onOpenAuthorization:s,onSubmit:function(e){e.preventDefault(),m&&r(A,N,w),function(e){var t=e.target.closest("form").email,n=t.name;v(Object(f.a)(Object(f.a)({},_),{},Object(g.a)({},n,t.validationMessage)))}(e)},isFormValid:m,error409:l,isLoading:p,waitResponse:d,resetForm:O,children:[Object(a.jsxs)("label",{className:"popup__label",children:[Object(a.jsx)("span",{className:"popup__input-title",children:"Email"}),Object(a.jsx)("input",{id:"mailRegistration-input",autoComplete:"off",name:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",required:!0,type:"email",className:"popup__input popup__input_mail-registration",value:N||"",onChange:b}),Object(a.jsx)("span",{id:"emailRegistration-input-error",className:_?"popup__input-error popup__input-error_visible":"popup__input-error",children:_.email})]}),Object(a.jsxs)("label",{className:"popup__label",children:[Object(a.jsx)("span",{className:"popup__input-title",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(a.jsx)("input",{id:"passwordRegistration-input",autoComplete:"off",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,type:"password",minLength:"2",className:"popup__input popup__input_password-registration",value:w||"",onChange:b}),Object(a.jsx)("span",{id:"passwordRegistration-input-error",className:_?"popup__input-error popup__input-error_visible":"popup__input-error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435."===_.password?"\u0421\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u043a\u0443 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b.":_.password})]}),Object(a.jsxs)("label",{className:"popup__label",children:[Object(a.jsx)("span",{className:"popup__input-title",children:"\u0418\u043c\u044f"}),Object(a.jsx)("input",{id:"nameRegistration-input",autoComplete:"off",name:"name",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0435 \u0438\u043c\u044f",required:!0,type:"text",minLength:"2",maxLength:"30",className:"popup__input popup__input_password-registration",value:A||"",onChange:b}),Object(a.jsx)("span",{id:"nameRegistration-input-error",className:"popup__input-error popup__input-error_visible",children:_.name})]})]})});n(54);var V=function(e){var t=e.isMenuOpen,n=e.onClose,s=e.onOpenAuthorization,r=e.isSavedMenuOpen,c=e.loggedIn,l=e.onSignOut,d=i.a.useContext(h),j=Object(u.g)();function b(){n(),c?(j.push("/"),l()):s()}return Object(a.jsx)("section",{className:"menu-button ".concat(t||r?"menu-button_opened":""),onClick:function(e){return e.target.classList.contains("menu-button")&&n()},children:Object(a.jsxs)("div",{className:"menu-button__container",children:[Object(a.jsxs)("div",{className:"menu-button__header",children:[Object(a.jsx)("h2",{className:"menu-button__logo",children:"NewsExplorer"}),Object(a.jsx)("button",{onClick:n,className:"menu-button__close"})]}),Object(a.jsxs)("nav",{className:"menu-button__nav",children:[Object(a.jsxs)("ul",{className:"menu-button__menu",children:[Object(a.jsx)("li",{className:"menu-button__li",children:Object(a.jsx)(o.b,{onClick:n,className:"menu-button__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(a.jsx)("li",{className:"menu-button__li",children:c?Object(a.jsx)(o.b,{onClick:n,className:"menu-button__link",to:"/saved-news",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}):Object(a.jsx)(a.Fragment,{})})]}),c?Object(a.jsxs)("button",{onClick:b,className:"menu-button__btn-authorization","aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0432\u044b\u0445\u043e\u0434\u0430",type:"button",children:[d.user,Object(a.jsx)("img",{src:p,alt:"\u0441\u0442\u0440\u0435\u043b\u043a\u0430 \u0432\u044b\u0445\u043e\u0434\u0430",className:"navigation__img-logout"})]}):Object(a.jsx)("button",{onClick:b,className:"menu-button__btn-authorization","aria-label":"\u043a\u043d\u043e\u043f\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0432\u044b\u0445\u043e\u0434\u0430",type:"button",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})},q=n(13),J=n(14),K=new(function(){function e(t){var n=t.headers,a=t.baseUrl;Object(q.a)(this,e),this._headers=n,this._baseUrl=a,this._to=new Date;var s=(new Date).setDate((new Date).getDate()-7);this._from=new Date(s)}return Object(J.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getArticles",value:function(e){return fetch("".concat(this._baseUrl,"/v2/everything?q=").concat(e,"&from=").concat(this._from.toISOString().slice(0,10),"&to=").concat(this._to.toISOString().slice(0,10),"&pageSize=100&sortBy=popularity&apiKey=91df3880031b4dabba1ae1c6a6829e73"),{headers:this._headers}).then(this._getResponseData)}}]),e}())({baseUrl:"https://nomoreparties.co/news",headers:{authorization:"apiKey=91df3880031b4dabba1ae1c6a6829e73","Content-Type":"application/json"}}),H=new(function(){function e(t){var n=t.headers,a=t.baseUrl;Object(q.a)(this,e),this._headers=n,this._baseUrl=a}return Object(J.a)(e,[{key:"getArticles",value:function(){return fetch("".concat(this._baseUrl,"/articles"),{headers:this._headers}).then(this._getResponseData)}},{key:"deleteArticles",value:function(e){return fetch("".concat(this._baseUrl,"/articles/").concat(e),{method:"DELETE",headers:this._headers}).then(this._getResponseData)}},{key:"postArticles",value:function(e,t){return fetch("".concat(this._baseUrl,"/articles"),{method:"POST",headers:this._headers,body:JSON.stringify({keyword:e,title:t.title,text:t.description,date:t.publishedAt,source:t.source.name,link:t.url,image:t.urlToImage})}).then(this._getResponseData)}},{key:"updateToken",value:function(){this._headers.authorization="Bearer ".concat(localStorage.getItem("jwt"))}},{key:"getUser",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._getResponseData)}},{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}}]),e}())({baseUrl:"http://api.new-sprint.students.nomoreparties.space/",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}),G=n(22),W=function(e){var t=e.component,n=Object(G.a)(e,["component"]),s=localStorage.getItem("jwt");return Object(a.jsx)(u.b,{children:s?Object(a.jsx)(t,Object(f.a)({},n)):Object(a.jsx)(u.a,{to:{pathname:"/",openAuth:n.onOpenAuthorization()}})})},Q="http://api.new-sprint.students.nomoreparties.space/",X=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))};var Y=function(){var e=i.a.useState(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],r=i.a.useState(!1),c=Object(l.a)(r,2),o=c[0],p=c[1],d=i.a.useState(!1),j=Object(l.a)(d,2),b=j[0],_=j[1],m=i.a.useState(!1),O=Object(l.a)(m,2),g=O[0],f=O[1],x=i.a.useState(!1),v=Object(l.a)(x,2),N=v[0],w=v[1],A=i.a.useState(null),k=Object(l.a)(A,2),S=k[0],C=k[1],y=i.a.useState({}),R=Object(l.a)(y,2),z=R[0],E=R[1],M=i.a.useState(!1),L=Object(l.a)(M,2),F=L[0],q=L[1],J=i.a.useState(!1),G=Object(l.a)(J,2),Y=G[0],Z=G[1],$=i.a.useState(""),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=i.a.useState([]),se=Object(l.a)(ae,2),ie=se[0],re=se[1],ce=JSON.parse(localStorage.getItem("articles")),oe=i.a.useState(ce||{}),le=Object(l.a)(oe,2),ue=le[0],pe=le[1],de=i.a.useState(!1),je=Object(l.a)(de,2),he=je[0],be=je[1],_e=i.a.useState(!1),me=Object(l.a)(_e,2),Oe=me[0],ge=me[1],fe=i.a.useState(""),xe=Object(l.a)(fe,2),ve=xe[0],Ne=xe[1],we=i.a.useState(!1),Ae=Object(l.a)(we,2),ke=Ae[0],Se=Ae[1],Ce=i.a.useState(!1),ye=Object(l.a)(Ce,2),Re=ye[0],Ie=ye[1];i.a.useEffect((function(){ze()}),[]);var ze=function(){var e,t=localStorage.getItem("jwt");t&&(e=t,fetch("".concat(Q,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(e)}}).then(X)).then((function(e){e&&(E(e.user),C(t))})).catch((function(e){return console.error(e)}))};i.a.useEffect((function(){H.getUser().then((function(e){E(e)})).catch((function(e){console.log(e)}))}),[S]),i.a.useEffect((function(){S&&H.getArticles().then(be(!0)).then((function(e){Ie(e),be(!1);var t=e.data;re(t)})).catch((function(e){console.log(e)}))}),[S]),i.a.useEffect((function(){""!==ve&&K.getArticles(ve).then(be(!0)).then((function(e){var t=e.articles,n=JSON.stringify({keyword:ve,resArticles:t});localStorage.setItem("articles",n),ge(!1),pe({keyword:ve,resArticles:t}),be(!1),0===e.totalResults&&ge(!0)})).catch((function(e){console.log(e)}))}),[ve]);var De=function(e){e&&(localStorage.setItem("jwt",e.token),H.updateToken(),C(!0))},Ee=function(){localStorage.removeItem("jwt"),E({}),C(!1),localStorage.removeItem("articles"),pe([])};function Me(e){H.deleteArticles(e._id).then((function(){var t=ie.filter((function(t){return t._id!==e._id}));re(t)})).catch((function(e){console.log(e)}))}function Be(){s(!0)}function Le(){s(!1),p(!1),q(!1),f(!1),w(!1),Se(!1)}return i.a.useEffect((function(){var e=function(e){return"Escape"===e.key&&Le()};return document.addEventListener("keyup",e),function(){return document.removeEventListener("keyup",e)}}),[]),Object(a.jsx)(h.Provider,{value:z,children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",children:Object(a.jsx)(I,{onSignOut:Ee,onOpenAuthorization:Be,onClose:Le,openBurgerMenu:f,isOpenAuthor:n,isOpenRegistr:o,isOpenSignSucc:b,articles:ue,setKeyword:Ne,keyword:ve,isLoading:he,noResult:Oe,setNoResult:ge,loggedIn:S,onAddArticles:function(e){var t=e.keyword,n=e.article;H.postArticles(t,n).then((function(){H.getArticles().then((function(e){return re(e.data)}))})).catch((function(e){console.log(e)}))},handleCardDelete:Me,saveArticles:ie,resAddArticle:Re})}),Object(a.jsx)(W,{path:"/saved-news",loggedIn:S,component:D,onSignOut:Ee,openSavedBurgerMenu:w,onClose:Le,keyword:ve,saveArticles:ie,handleCardDelete:Me,isLoading:he,onOpenAuthorization:Be,articles:ue})]}),Object(a.jsx)(B,{}),Object(a.jsx)(T,{onClose:Le,onOpenAuthorization:Be,successOpen:F}),Object(a.jsx)(U,{onClose:Le,onOpenRegistration:function(){p(!0)},isOpenAuthor:n,onLogin:function(e,t){(function(e,t){return fetch("".concat(Q,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(X)})(e,t).then(Se(!0)).then(De).then(ze).catch((function(e){console.error(e)}))},loggedIn:S,waitResponse:ke}),Object(a.jsx)(P,{isOpenRegistr:o,onClose:Le,onOpenAuthorization:Be,setIsSignupSuccessPopupOpen:function(){_(!0)},onRegister:function(e,t,n){Se(!0),function(e,t,n){return fetch("".concat(Q,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(X)}(e,t,n).then((function(e){e.data&&(Z(!0),ne(""),Se(!1))})).catch((function(e){"\u041e\u0448\u0438\u0431\u043a\u0430: 409"===e&&ne("\u0422\u0430\u043a\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0436\u0435 \u0435\u0441\u0442\u044c."),Se(!1)}))},success:Y,setSuccessOpen:q,error409:te,setSuccess:Z,waitResponse:ke}),Object(a.jsx)(V,{isMenuOpen:g,isSavedMenuOpen:N,onClose:Le,onOpenAuthorization:Be,loggedIn:S,onSignOut:Ee})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),i(e),r(e)}))};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(Y,{})})}),document.getElementById("root")),Z()}]),[[55,1,2]]]);
//# sourceMappingURL=main.edf6be8a.chunk.js.map