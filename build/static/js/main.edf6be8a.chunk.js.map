{"version":3,"sources":["images/svg/logout_white.svg","constants/constants.js","contexts/CurrentUserContext.js","images/svg/logout.svg","components/Navigation/NavigationSavedNews.js","components/Navigation/Navigation.js","components/Header/Header.js","utils/FormValidation.js","components/SearchForm/SearchForm.js","images/jpg/greta.jpg","components/About/About.js","components/NewsCard/NewsCard.js","utils/Ellipsis.js","components/NewsCardList/NewsCardList.js","components/Results/Results.js","components/Spinner/Spinner.js","components/Preloader/Preloader.js","components/NotFound/NotFound.js","components/Main/Main.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","images/svg/git.svg","images/svg/facebook.svg","components/Footer/Footer.js","components/Popup/Popup.js","components/PopupSignupSuccess/PopupSignupSuccess.js","components/PopupWithForm/PopupWithForm.js","components/PopupAuthorization/PopupAuthorization.js","components/PopupRegistration/PopupRegistration.js","components/MenuButton/MenuButton.js","utils/NewsAPI.js","utils/MainApi.js","components/ProtectedRoute/ProtectedRoute.js","auth.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["checkBox","checkMarked","CurrentUserContext","React","createContext","NavigationSavedNews","openSavedBurgerMenu","onSignOut","currentUser","useContext","className","to","onClick","e","target","aria-label","type","user","src","logoutIconBlack","alt","Navigation","loggedIn","onOpenAuthorization","openBurgerMenu","isOpenAuthor","isOpenRegistr","isOpenSignSucc","locationPathMain","useLocation","pathname","handleClick","navigationClassName","window","innerWidth","logoutIconWhite","Header","onClose","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","name","value","validationMessage","closest","checkValidity","SearchForm","setKeyword","searchInput","noValidate","method","onSubmit","preventDefault","handleBtnClick","required","minLength","maxLength","placeholder","id","onChange","About","greta","NewsCard","onAddArticles","article","handleCardDelete","keywordResArticles","saveArticles","resAddArticle","textRef","useRef","text","resizeListener","current","innerHTML","words","split","offsetHeight","scrollHeight","pop","join","useEffect","addEventListener","Elipsis","btnClassName","setBtnClassName","handleCardDeleteClick","card","find","saveArticle","link","url","dateStr","Date","publishedAt","date","toLocaleDateString","year","month","day","slice","keyword","urlToImage","image","rel","href","title","ref","description","source","NewsCardList","articles","map","index","Results","nextThree","setNextThree","btnHide","setBtnHide","resArticles","length","Spinner","Preloader","NotFound","Main","isLoading","noResult","SavedNewsHeader","keywordsUniq","reduce","acc","el","includes","push","lengthUniqKeywords","allArticles","twoKeywords","othersKeywords","declOfNum","n","text_forms","n1","Math","abs","endWordsSubtitle","endWordsTitle","endWordsTitle2","SavedNews","choiceArticle","Footer","git","facebook","Popup","props","isOpen","classList","contains","action","children","PopupSignupSuccess","successOpen","PopupWithForm","errorUndefined","errorsPassword","errorsEmail","errorsName","waitResponse","error409","undefined","nameBtn","textContent","onOpenRegistration","textUnderBtn","PopupAuthorization","onLogin","email","password","autoComplete","PopupRegistration","onRegister","success","setSuccessOpen","setSuccess","isFormValid","MenuButton","isMenuOpen","isSavedMenuOpen","history","useHistory","NewsApi","headers","baseUrl","this","_headers","_baseUrl","_to","dateWeekBefore","setDate","getDate","_from","res","ok","json","Promise","reject","status","fetch","toISOString","then","_getResponseData","authorization","MainApi","articleId","body","JSON","stringify","localStorage","getItem","ProtectedRoute","Component","component","jwt","openAuth","BASE_URL","checkResponse","response","App","isAuthorizationPopupOpen","setIsAuthorizationPopupOpen","isRegistrationPopupOpen","setIsRegistrationPopupOpen","isSignupSuccessPopupOpen","setIsSignupSuccessPopupOpen","setIsMenuOpen","setIsSavedMenuOpen","setLoggedIn","setCurrentUser","setError409","setSaveArticles","jsonArt","parse","setArticles","setIsLoading","setNoResult","setWaitResponse","setResAddArticle","tokenCheck","token","catch","err","console","error","getUser","results","log","getArticles","data","jsonArticles","setItem","totalResults","handleResponse","updateToken","handleSignOut","removeItem","deleteArticles","_id","newArticles","filter","a","handleAuthorizationPopupClick","closeAllPopups","closeOnEsc","key","document","removeEventListener","Provider","exact","path","postArticles","auth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.edf6be8a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logout_white.1f2ed6dd.svg\";","//NAVIGATION\r\n\r\nexport const navigation = \"navigation\";\r\nexport const navigationDisable = \"navigation navigation_disable\";\r\n\r\n// RESULTS_grid and SAVED-NEWS_grid\r\n\r\n// кнопка выбора с синим флажком\r\nexport const checkBox = \"news-card__check\";\r\n\r\n// кнопка корзины на карточке в saved-news\r\nexport const trash = \"news-card__trash\";\r\n\r\n// класс синего флажка\r\nexport const checkMarked = \"news-card__check-marked\";\r\n\r\n// FOOTER\r\n\r\n// ссылки на соцсети в футере\r\nexport const facebookUrl = \"https://www.facebook.com/\";\r\nexport const githubUrl = \"https://github.com/\";\r\nexport const yandexUrl = \"https://praktikum.yandex.ru\";\r\n\r\n\r\n","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();\r\n","export default __webpack_public_path__ + \"static/media/logout.4fb874ec.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport logoutIconBlack from \"../../images/svg/logout.svg\";\r\n\r\nfunction NavigationSavedNews({ openSavedBurgerMenu, onSignOut }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    // открывает черное мобильное меню\r\n    function handleClickBurgerMenu() {\r\n        openSavedBurgerMenu(true);\r\n    }\r\n\r\n    // по клику вылогинивается и переходит на \"/\"\r\n    const handleClick = (e) => e.target.className === \"navigation__btn-logout\" && onSignOut() \r\n\r\n    return (\r\n        <ul className=\"navigation__ul\">\r\n            <li className=\"navigation__li\">\r\n                <Link className=\"navigation__logo navigation__logo_black\" to=\"/\">\r\n                    NewsExplorer\r\n                </Link>\r\n            </li>\r\n            <div className=\"navigation__container\">\r\n                <li className=\"navigation__li\">\r\n                    <Link className=\"navigation__main-link navigation__main-link_black\" to=\"/\">\r\n                        Главная\r\n                    </Link>\r\n                </li>\r\n                <li className=\"navigation__li\">\r\n                    <Link className=\"navigation__saved-news navigation__saved-news_black\" to=\"/saved-news\">\r\n                        Сохраненные статьи\r\n                    </Link>\r\n                </li>\r\n                <li className=\"navigation__li\">\r\n                    <button onClick={handleClick} className=\"navigation__btn-logout\" aria-label=\"кнопка выхода\" type=\"button\">\r\n                        {currentUser.user}\r\n                        <img src={logoutIconBlack} alt=\"стрелка выхода\" className=\"navigation__img-logout\" />\r\n                    </button>\r\n                </li>\r\n\r\n                <li className=\"navigation__li\">\r\n                    <button onClick={handleClickBurgerMenu} className=\"navigation__butter navigation__butter_black\"></button>\r\n                </li>\r\n            </div>\r\n        </ul>\r\n    );\r\n}\r\n\r\nexport default NavigationSavedNews;\r\n","import React from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport \"./Navigation.css\";\r\nimport logoutIconWhite from \"../../images/svg/logout_white.svg\";\r\nimport { navigationDisable, navigation } from \"../../constants/constants\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport NavigationSavedNews from \"./NavigationSavedNews\";\r\n\r\nfunction Navigation({ loggedIn, onSignOut, onOpenAuthorization, openBurgerMenu, isOpenAuthor, isOpenRegistr, isOpenSignSucc, openSavedBurgerMenu }) {\r\n    const location = useLocation();\r\n    const locationPathMain = location.pathname === \"/\";\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // при клике на \"Авторизация\" открывает попап onOpenAuthorization, при клике на \"Выход\" вылогинивается.\r\n    const handleClick = (e) => (e.target.className === \"navigation__btn-authorization\" ? onOpenAuthorization() : onSignOut());\r\n\r\n    // открывает черное мобильное меню\r\n    function handleClickBurgerMenu() {\r\n        openBurgerMenu(true);\r\n    }\r\n\r\n    // делает невидимой панель navigation если открыты попапы авторизации или регистрации и при этом ширина окна меньше 400 px\r\n    let navigationClassName = \"\";\r\n\r\n    const classNavigationChange = () => ((isOpenRegistr || isOpenAuthor || isOpenSignSucc) & (window.innerWidth < 401) ? (navigationClassName = navigationDisable) : (navigationClassName = navigation));\r\n    classNavigationChange();\r\n\r\n    return (\r\n        <nav className={navigationClassName}>\r\n            {locationPathMain ? (\r\n                <ul className=\"navigation__ul\">\r\n                    <li className=\"navigation__li\">\r\n                        <Link className=\"navigation__logo\" to=\"/\">\r\n                            NewsExplorer\r\n                        </Link>\r\n                    </li>\r\n                    <div className=\"navigation__container\">\r\n                        <li className=\"navigation__li\">\r\n                            <Link className=\"navigation__main-link\" to=\"/\">\r\n                                Главная\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"navigation__li\">\r\n                            <Link className=\"navigation__saved-news\" to=\"/saved-news\">\r\n                                {loggedIn ? \"Сохраненные статьи\" : \"\"}\r\n                            </Link>\r\n                        </li>\r\n                        {/* замена кнопки \"авторизация\" на \"выход\" */}\r\n                        {loggedIn ? (\r\n                            <li className=\"navigation__li\">\r\n                                <button onClick={handleClick} className=\"navigation__btn-logout navigation__btn-logout_main\" aria-label=\"кнопка выхода\" type=\"button\">\r\n                                    {currentUser.user}\r\n                                    <img src={logoutIconWhite} alt=\"стрелка выхода\" className=\"navigation__img-logout\" />\r\n                                </button>\r\n                            </li>\r\n                        ) : (\r\n                            <li className=\"navigation__li\">\r\n                                <button onClick={handleClick} className=\"navigation__btn-authorization\" aria-label=\"кнопка авторизации\" type=\"button\">\r\n                                    Авторизоваться\r\n                                </button>\r\n                            </li>\r\n                        )}\r\n\r\n                        <li className=\"navigation__li\">\r\n                            <button onClick={handleClickBurgerMenu} className=\"navigation__butter\"></button>\r\n                        </li>\r\n                    </div>\r\n                </ul>\r\n            ) : (\r\n                <NavigationSavedNews openSavedBurgerMenu={openSavedBurgerMenu} onSignOut={onSignOut} />\r\n            )}\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\n\r\nfunction Header({ loggedIn, onSignOut, onOpenAuthorization, onClose, openBurgerMenu, isOpenAuthor, isOpenRegistr, isOpenSignSucc, openSavedBurgerMenu }) {\r\n    \r\n    return (\r\n        <header className=\"header\">\r\n            <Navigation\r\n                loggedIn={loggedIn}\r\n                onSignOut={onSignOut}\r\n                onOpenAuthorization={onOpenAuthorization}\r\n                onClose={onClose}\r\n                openBurgerMenu={openBurgerMenu}\r\n                isOpenAuthor={isOpenAuthor}\r\n                isOpenRegistr={isOpenRegistr}\r\n                isOpenSignSucc={isOpenSignSucc}\r\n                openSavedBurgerMenu={openSavedBurgerMenu}\r\n            />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\n//хук управления формой\r\nexport function useForm() {\r\n    const [values, setValues] = React.useState({});\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    return { values, handleChange, setValues };\r\n}\r\n\r\n//хук управления формой и валидации формы\r\nexport function useFormWithValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target;\r\n        const name = target.name;\r\n        const value = target.value;\r\n        setValues({ ...values, [name]: value });\r\n        setErrors({ ...errors, [name]: target.validationMessage });\r\n        setIsValid(target.closest(\"form\").checkValidity());\r\n    };\r\n\r\n    const resetForm = React.useCallback(\r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n            setValues(newValues);\r\n            setErrors(newErrors);\r\n            setIsValid(newIsValid);\r\n        },\r\n        [setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    return { values, handleChange, errors, isValid, resetForm, setIsValid, setErrors};\r\n}\r\n","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\nimport { useFormWithValidation } from \"../../utils/FormValidation\";\r\n\r\nfunction SearchForm({ setKeyword}) {\r\n// Комментарий: на время выполнения запроса считается хорошей практикой блокировать поля ввода и кнопку отправки формы, что бы пользователь не мог выполнить новые запросы до завершения предыдущего. Попап не должен закрыватсья до ответа сервера\r\n\r\n\r\n    const { values, handleChange, errors, isValid, resetForm, setErrors } = useFormWithValidation();\r\n    const {searchInput} = values;\r\n    \r\n// записывает сообщение об ошибке при отправке пустой формы\r\nfunction handleBtnClick(e) {\r\n    const event = e.target.closest(\"form\").searchInput;\r\n   const name = event.name;\r\n   return setErrors({...errors, [name]: event.validationMessage})\r\n}\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        searchInput &&\r\n        setKeyword(searchInput);\r\n        resetForm()\r\n        handleBtnClick(e)\r\n    };\r\n\r\n    return (\r\n        <form \r\n        noValidate\r\n        className=\"search\" \r\n        name=\"search\"\r\n        method=\"GET\" \r\n        onSubmit={handleSubmit}\r\n        >\r\n            <label  className=\"search__label\">\r\n                <input \r\n                required \r\n                minLength=\"2\" \r\n                maxLength=\"30\" \r\n                type=\"search\" \r\n                className=\"search__input\" \r\n                placeholder=\"Введите тему новости\" \r\n                id=\"search\" \r\n                name=\"searchInput\" \r\n                value={searchInput || \"\"} \r\n                onChange={handleChange} \r\n                />\r\n                <span id=\"search-input-error\" className={!isValid ? \"search__input-error\" : \"search__input-error search__input-error_visible\"}>\r\n                    { \r\n                    errors.searchInput === \"Заполните это поле.\" \r\n                    ? \"Нужно ввести ключевое слово\" \r\n                    : errors.searchInput\r\n                    }\r\n                </span>\r\n            </label>\r\n            <button  className={ !searchInput || isValid ? \"search__button\" : \"search__button search__button_lock\"} type=\"submit\">\r\n                Искать\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default SearchForm;\r\n","export default __webpack_public_path__ + \"static/media/greta.0a21f444.jpg\";","import React from \"react\";\r\nimport \"./About.css\";\r\nimport greta from \"../../images/jpg/greta.jpg\";\r\n\r\nfunction About() {\r\n    return (\r\n        <section className=\"about\">\r\n            <img className=\"about__avatar\" src={greta} alt=\"Аватар пользователя\" />\r\n            <div className=\"about__content\">\r\n                <h2 className=\"about__title\">Об авторе</h2>\r\n                <p className=\"about__subtitle\">Это блок с описанием автора проекта. Здесь следует указать, как вас зовут, чем вы занимаетесь, какими технологиями разработки владеете.</p>\r\n                <p className=\"about__subtitle\">Также можно рассказать о процессе обучения в Практикуме, чему вы тут научились, и чем можете помочь потенциальным заказчикам.</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default About;\r\n","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport \"./NewsCard.css\";\r\nimport { checkBox, checkMarked } from \"../../constants/constants\";\r\nimport Elipsis from \"../../utils/Ellipsis\"\r\n\r\nfunction NewsCard({loggedIn, onAddArticles, article, handleCardDelete,  keywordResArticles, saveArticles, onOpenAuthorization, resAddArticle  }) {\r\n    const location = useLocation();\r\n    const locationPathMain = location.pathname === \"/\";\r\n\r\n    // добавляет многоточие в конце обрезанного абзаца\r\n    const {textRef} =  Elipsis()\r\n    const [btnClassName, setBtnClassName]=React.useState(checkBox)\r\n\r\n    // сравнивает входящую новость с новостями из базы и маркирует, если новость уже сохранена\r\n React.useEffect(()=> {\r\n    saveArticles.find((saveArticle) => saveArticle.link === article.url &&  setBtnClassName(checkMarked));\r\n }, [saveArticles, article.url])\r\n    \r\n    const handleClick = (e) => {\r\n        !loggedIn && onOpenAuthorization()\r\n        if( e.target.className === checkBox){\r\n            loggedIn &&\r\n         onAddArticles({keyword: keywordResArticles, article: article})\r\n         \r\n        }else{\r\n            // ищет совпадение по идентификаторам url/link и возвращает информацию для удаления в случае если пользователь передумал сохранять новость\r\n            const foundArticle = saveArticles.find(saveArticle => saveArticle.link === article.url)\r\n            // удаление новости из базы по клику на синий флажок\r\n            handleCardDeleteClick(foundArticle)\r\n        }\r\n        // тоггл меняющий цвет кнопки\r\n        e.target.className === checkBox  ?\r\n        resAddArticle && setBtnClassName(checkMarked):\r\n             setBtnClassName(checkBox) \r\n    }\r\n\r\n    // удаляет по клику на флажок, либо по клику на корзину\r\n    function handleCardDeleteClick(card) {\r\n        locationPathMain ?\r\n       handleCardDelete(card) : \r\n        handleCardDelete(article)\r\n      }\r\n\r\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n      // конвертирует дату \r\n      let dateStr = new Date(article.publishedAt || article.date).toLocaleDateString(\"ru\", options);\r\n      let date = `${dateStr.slice(0, -8)}, ${dateStr.slice(-7, -2)}`\r\n    \r\n\r\n    return (\r\n        <section className=\"news-card\">\r\n            <div className=\"news-card__img-place\">\r\n                {locationPathMain ? \r\n                <></>\r\n                : <div className=\"news-card__keyword\"><p className=\"news-card__keyword-text\">{article.keyword}</p></div>}\r\n               {locationPathMain \r\n               ? <div className=\"news-card__btn-container\"><button  aria-label=\"Кнопка выбора карточек\" onClick={handleClick} className={btnClassName}></button></div> \r\n               :  <div className=\"news-card__btn-container\">\r\n               <button onClick={handleCardDeleteClick} type=\"button\" aria-label=\"Кнопка удаления карточек\" className=\"news-card__trash\"></button>\r\n               </div>}\r\n               <img className=\"news-card__img\" src={article.urlToImage || article.image} alt=\"Иллюстрация новости\" />\r\n            </div>\r\n            <div className=\"news-card__text-place\">\r\n                <p className=\"news-card__date\">{date}</p>\r\n                <a target=\"_blank\" rel=\"noreferrer\" className=\"news-card__link\" href={article.url || article.link }>\r\n                    <h2 className=\"news-card__title\">{article.title}</h2>\r\n                </a>\r\n                <p className=\"news-card__text\" ref={textRef}>\r\n                    {article.description || article.text}\r\n                </p>\r\n                <p className=\"news-card__source\">{article.source.name || article.source}</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default NewsCard;\r\n","import React from \"react\";\r\n\r\nexport default function Elipsis() {\r\n\r\nconst textRef = React.useRef(); // записывает объект, возвращаемый хуком, в переменную\r\n\r\n    // сравнивает оффсет и скролл контента\r\n    function isEllipsisActive() {\r\n        return textRef.current.offsetHeight < textRef.current.scrollHeight;\r\n    }\r\n\r\n    let text = \"\";\r\n\r\n    // обрезает текст при изменении размера экрана\r\n    function resizeListener() {\r\n        if (!textRef.current) return;\r\n        textRef.current.innerHTML = text;\r\n        let words = text.split(\" \");\r\n        while (isEllipsisActive()) {\r\n            words.pop();\r\n            textRef.current.innerHTML = `${words.join(\" \")}...`;\r\n        }\r\n    }\r\n\r\n    // слушает изменение размера и запускает обрезчик текста\r\n    React.useEffect(() => {\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        text = textRef.current.innerHTML;\r\n        window.addEventListener(\"resize\", resizeListener);\r\n        resizeListener();\r\n    });\r\n\r\n    return {textRef}\r\n}","import React from \"react\";\r\nimport \"./NewsCardList.css\";\r\nimport NewsCard from \"../NewsCard/NewsCard\";\r\nimport { useLocation} from \"react-router-dom\";\r\n\r\nfunction NewsCardList({ articles, keyword, loggedIn, onAddArticles, saveArticles, handleCardDelete, keywordResArticles, onOpenAuthorization }) {\r\n    \r\n    const location = useLocation();\r\n    const locationPathMain = location.pathname === \"/\";\r\n\r\n    return (\r\n        <section className=\"news-list\">\r\n            {(locationPathMain ? articles : saveArticles).map((article, index) => (\r\n                <NewsCard key={index} article={article} keyword={keyword} loggedIn={loggedIn}  onAddArticles={onAddArticles} handleCardDelete={handleCardDelete} articles={articles} saveArticles={saveArticles} keywordResArticles={keywordResArticles} onOpenAuthorization={onOpenAuthorization}/>\r\n            ))}\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default NewsCardList;\r\n","import React from \"react\";\r\nimport \"./Results.css\";\r\nimport NewsCardList from \"../NewsCardList/NewsCardList\";\r\n\r\nfunction Results({ articles, keyword, loggedIn, onAddArticles, handleCardDelete, saveArticles, onOpenAuthorization, resAddArticle }) {\r\n\r\n    // Комментарий: время за которое выполняется поиск (7) и количество отображаемых карточек (3) нужно вынести в константы в отдельный файл\r\n\r\n    const [nextThree, setNextThree] = React.useState(3);\r\n    const [btnHide, setBtnHide] = React.useState(true)\r\n\r\n    const keywordResArticles = articles.keyword;\r\n\r\n    function sliceArticles() {\r\n        return articles.resArticles.slice(0, nextThree);\r\n    }\r\n\r\n    function handleClick() {\r\n        setNextThree(nextThree + 3);\r\n        if(nextThree >= articles.resArticles.length - 2) {\r\n            setBtnHide(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className=\"results\">\r\n            <h2 className=\"results__title\">Результаты поиска</h2>\r\n\r\n            <NewsCardList \r\n            articles={sliceArticles()} \r\n            keyword={keyword}\r\n            loggedIn={loggedIn} \r\n            onAddArticles={onAddArticles}\r\n            handleCardDelete={handleCardDelete}\r\n            saveArticles={saveArticles}\r\n            keywordResArticles={keywordResArticles}\r\n            onOpenAuthorization={onOpenAuthorization}\r\n            resAddArticle={resAddArticle}\r\n            />\r\n            {btnHide ? <button onClick={handleClick} className=\"results__btn\" aria-label=\"Кнопка добавления карточек\">\r\n                Показать еще\r\n            </button> : <></>}\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Results;\r\n","import React from \"react\";\r\nimport \"./Spinner.css\";\r\n\r\nfunction Spinner() {\r\n    return <i className=\"preloader__circle\"></i>;\r\n}\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport \"./Preloader.css\";\r\nimport Spinner from \"../Spinner/Spinner\"\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <section className=\"preloader preloader_noresult\">\r\n            <Spinner />\r\n            <h2 className=\"preloader__title\">Идет поиск новостей...</h2>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport \"./NotFound.css\";\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <section className=\"notfound\">\r\n            <div className=\"notfound__img\"></div>\r\n            <div className=\"notfound__textplace\">\r\n                <h2 className=\"notfound__title\">Ничего не найдено</h2>\r\n                <p className=\"notfound__subtitle\">К сожалению по вашему запросу ничего не найдено</p>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport \"./Main.css\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport About from \"../About/About\";\r\nimport Results from \"../Results/Results\";\r\nimport Preloader from \"../Preloader/Preloader\"\r\nimport NotFound from \"../NotFound/NotFound\"\r\n\r\nfunction Main({ onSignOut, onOpenAuthorization, onClose, openBurgerMenu, isOpenAuthor, isOpenRegistr, isOpenSignSucc, articles, setKeyword, keyword, isLoading, noResult, loggedIn, onAddArticles, handleCardDelete, saveArticles, resAddArticle}) {\r\n\r\n    return (\r\n        <section className=\"main\">\r\n            <Header\r\n                onSignOut={onSignOut}\r\n                onOpenAuthorization={onOpenAuthorization}\r\n                onClose={onClose}\r\n                openBurgerMenu={openBurgerMenu}\r\n                isOpenAuthor={isOpenAuthor}\r\n                isOpenRegistr={isOpenRegistr}\r\n                isOpenSignSucc={isOpenSignSucc}\r\n                loggedIn={loggedIn}\r\n            />\r\n            <div className=\"main__title-container\">\r\n                <h1 className=\"main__title\">Что творится в мире?</h1>\r\n                <p className=\"main__subtitle\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\r\n            </div>\r\n\r\n            <SearchForm \r\n            setKeyword={setKeyword} \r\n            />\r\n            {!articles.keyword ? <></> \r\n             : isLoading ? <Preloader /> \r\n             : noResult ? <NotFound />\r\n             : <Results articles={articles} keyword={keyword} loggedIn={loggedIn} onAddArticles={onAddArticles} handleCardDelete={handleCardDelete} saveArticles={saveArticles} onOpenAuthorization={onOpenAuthorization} resAddArticle={resAddArticle}/> }\r\n            <About />\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./SavedNewsHeader.css\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction SavedNewsHeader({ saveArticles }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // отбирает уникальные keywords\r\n    const keywordsUniq = saveArticles.reduce((acc, el) => {\r\n        !acc.includes(el.keyword) && acc.push(el.keyword);\r\n        return acc;\r\n    }, []);\r\n\r\n    // ниже блок меняющий окончания в словах\r\n    const lengthUniqKeywords = keywordsUniq.length;\r\n    const allArticles = saveArticles.length;\r\n    const twoKeywords = keywordsUniq.slice(0, 2).join(\", \");\r\n    const othersKeywords = keywordsUniq.length - 2;\r\n\r\n    function declOfNum(n, text_forms) {\r\n        n = Math.abs(n) % 100;\r\n        let n1 = n % 10;\r\n        if (n > 10 && n < 20) {\r\n            return text_forms[2];\r\n        }\r\n        if (n1 > 1 && n1 < 5) {\r\n            return text_forms[1];\r\n        }\r\n        if (n1 > 6 && n1 < 9) {\r\n            return text_forms[0];\r\n        }\r\n\r\n        if (n1 === 1) {\r\n            return text_forms[3];\r\n        }\r\n        return text_forms[2];\r\n    }\r\n    const endWordsSubtitle = declOfNum(othersKeywords, [\"ми\", \"м\", \"ти\", \"им\"]);\r\n    const endWordsTitle = declOfNum(allArticles, [\"ых\", \"ые\", \"ых\", \"ая\"]);\r\n    const endWordsTitle2 = declOfNum(allArticles, [\"ей\", \"ьи\", \"ей\", \"ья\"]);\r\n\r\n\r\n\r\n    return (\r\n        <section className=\"sn-header\">\r\n            <p className=\"sn-header__subtitle\">Сохраненные статьи</p>\r\n            <h2 className=\"sn-header__title\">{`${currentUser.user}, у вас ${allArticles} сохраненн${endWordsTitle} стат${endWordsTitle2}`}</h2>\r\n\r\n            <p className=\"sn-header__keywords\">\r\n                По ключевым словам:{\" \"}\r\n                <span className=\"sn-header__span\">\r\n                    {`${twoKeywords || \"\"}`} {lengthUniqKeywords < 3 ? \"\" : `и ${othersKeywords || \"\"}-${endWordsSubtitle} другим.`}\r\n                </span>\r\n            </p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default SavedNewsHeader;\r\n","import React from \"react\";\r\nimport Header from \"../Header/Header\";\r\nimport SavedNewsHeader from \"../SavedNewsHeader/SavedNewsHeader\";\r\nimport NewsCardList from \"../NewsCardList/NewsCardList\";\r\nimport \"./SavedNews.css\";\r\n\r\nfunction SavedNews({ openBurgerMenu, openSavedBurgerMenu, onClose, keyword, onSignOut, saveArticles, handleCardDelete, choiceArticle, loggedIn, articles }) {\r\n    \r\n    \r\n    return (\r\n        \r\n        <div className=\"saved-news\">\r\n            <Header openBurgerMenu={openBurgerMenu} openSavedBurgerMenu={openSavedBurgerMenu} onClose={onClose} onSignOut={onSignOut}/> \r\n            <SavedNewsHeader saveArticles={saveArticles}/> \r\n            <NewsCardList saveArticles={saveArticles} keyword={keyword} handleCardDelete={handleCardDelete} choiceArticle={choiceArticle} articles={articles}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SavedNews;\r\n","export default __webpack_public_path__ + \"static/media/git.0719b4bc.svg\";","export default __webpack_public_path__ + \"static/media/facebook.8fbf7749.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport git from \"../../images/svg/git.svg\";\r\nimport facebook from \"../../images/svg/facebook.svg\";\r\nimport \"./Footer.css\";\r\nimport { facebookUrl, githubUrl, yandexUrl } from \"../../constants/constants\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Supersite, Powered by News API</p>\r\n            <nav className=\"footer__nav\">\r\n                <ul className=\"footer__links\">\r\n                    <li className=\"footer__li\">\r\n                        <Link className=\"footer__link\" to=\"/\">\r\n                            Главная\r\n                        </Link>\r\n                    </li>\r\n                    <li className=\"footer__li\">\r\n                        <a target=\"_blank\" rel=\"noreferrer\" className=\"footer__link\" href={yandexUrl}>\r\n                            Яндекс.Практикум\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <ul className=\"footer__social\">\r\n                    <li className=\"footer__li\">\r\n                        <a target=\"_blank\" rel=\"noreferrer\" className=\"footer__link\" href={githubUrl}>\r\n                            <img src={git} className=\"footer__icon\" alt=\"Логотип Гит\" />\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"footer__li\">\r\n                        <a target=\"_blank\" rel=\"noreferrer\" className=\"footer__link\" href={facebookUrl}>\r\n                            <img src={facebook} className=\"footer__icon\" alt=\"Логотип Фейсбук\" />\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport \"./Popup.css\";\r\n\r\nconst Popup = (props) => {\r\n    const handleClick = () => {\r\n        props.onClose();\r\n        props.resetForm();\r\n    };\r\n\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`} onClick={(e) => e.target.classList.contains(\"popup\") && props.onClose() & props.resetForm() }>\r\n            <form \r\n            noValidate\r\n            onSubmit={props.onSubmit} \r\n            name=\"popup\" \r\n            action=\"#\" \r\n            method=\"GET\" \r\n            className={`popup__container popup__container_${props.name}`}>\r\n                <button \r\n                onClick={handleClick} \r\n                aria-label=\"кнопка закрывающая форму-редактор\" className=\"popup__btn-close\" \r\n                type=\"button\"></button>\r\n                {props.children}\r\n            </form>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Popup;\r\n","import React from \"react\";\r\nimport Popup from \"../Popup/Popup\";\r\nimport \"./PopupSignupSuccess.css\";\r\n\r\nconst PopupSignupSuccess = ({ onClose, onOpenAuthorization, successOpen }) => {\r\n    const handleClick = () => onClose() & onOpenAuthorization();\r\n\r\n    return (\r\n        <Popup name=\"signup_success\" title=\"Пользователь успешно зарегистрирован\" isOpen={successOpen} onClose={onClose}>\r\n            <h2 className=\"popup__signup-success-title\">Пользователь успешно зарегистрирован</h2>\r\n            <p onClick={handleClick} className=\"popup__signup-success-link\">\r\n                Войти\r\n            </p>\r\n        </Popup>\r\n    );\r\n};\r\nexport default PopupSignupSuccess;\r\n","import React from \"react\";\r\nimport Popup from \"../Popup/Popup\";\r\nimport \"./PopupWithForm.css\";\r\n\r\nconst PopupWithForm = (props) => {\r\n    const handleClick = (e) => (e.target.textContent === \"Зарегистрироваться\" ? props.onClose() & props.onOpenRegistration() : props.onClose() & props.onOpenAuthorization());\r\n\r\n    const errorUndefined = props.errorsPassword || props.errorsEmail || props.errorsName;\r\n\r\n    return (\r\n        <Popup \r\n        isOpen={props.isOpen} \r\n        onClose={props.onClose} \r\n        onSubmit={props.onSubmit} \r\n        name={props.name}\r\n        resetForm={props.resetForm}\r\n        >\r\n            <h2 className={props.waitResponse ? \"popup__title-spinner\" : \"popup__title\"}>{props.title}</h2>\r\n            {props.children}\r\n            {props.name === \"registration\" && <span className=\"popup__error-registration\">{props.error409}</span>}\r\n            <button  type=\"submit\" className={ errorUndefined === undefined ||  props.isValid ? \"popup__btn\" : \"popup__btn popup__btn_lock\"}>\r\n                {props.nameBtn}\r\n            </button>\r\n            <p onClick={handleClick} className=\"popup__under-btn-text\">\r\n                или <span className=\"popup__under-btn-link\">{props.textUnderBtn}</span>{\" \"}\r\n            </p>\r\n        </Popup>\r\n    );\r\n};\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport \"./PopupAuthorization.css\";\r\nimport { useFormWithValidation } from \"../../utils/FormValidation\";\r\n\r\nconst PopupAuthorization = ({ isOpenAuthor, onClose, onOpenRegistration, onLogin, waitResponse }) => {\r\n\r\n//     Комментарий: если запрос на новостей, авторизация или регистрация завершился ошибкой (например если пропал интернет), то пользователь должен увидеть сообщение\r\n//  поля формы заблокированы во время отправки запросов. \r\n// Комментарий: на время выполнения запроса считается хорошей практикой блокировать поля ввода и кнопку отправки формы, что бы пользователь не мог выполнить новые запросы до завершения предыдущего. Попап не должен закрыватсья до ответа сервера\r\n\r\n    // валидатор\r\n    const { values, handleChange, errors, isValid, resetForm, setErrors } = useFormWithValidation();\r\n    const { email, password } = values;\r\n\r\n    // записывает сообщение об ошибке при отправке пустой формы\r\n    function handleBtnClick(e) {\r\n        let event = e.target.closest(\"form\").email;\r\n        const name = event.name;\r\n        return setErrors({ ...errors, [name]: event.validationMessage });\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        handleBtnClick(e);\r\n        if (isValid) {\r\n            let { email, password } = values;\r\n            onLogin(email, password);\r\n\r\n             onClose();\r\n             resetForm();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"authorization\"\r\n            nameBtn=\"Войти\"\r\n            textUnderBtn=\"Зарегистрироваться\"\r\n            title=\"Вход\"\r\n            isOpen={isOpenAuthor}\r\n            onClose={onClose}\r\n            onOpenRegistration={onOpenRegistration}\r\n            onSubmit={handleSubmit}\r\n            isValid={isValid}\r\n            errorsPassword={errors.password}\r\n            errorsEmail={errors.email}\r\n            waitResponse={waitResponse}\r\n            resetForm={resetForm}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <span className=\"popup__input-title\">Email</span>\r\n                <input id=\"emailAuthorization-input\" autoComplete=\"off\" name=\"email\" placeholder=\"Введите почту\" required type=\"email\" className=\"popup__input popup__input_mail-authorization\" value={email || \"\"} onChange={handleChange} />\r\n                <span id=\"emailAuthorization-input-error\" className={errors ? \"popup__input-error popup__input-error_visible\" : \"popup__input-error\"}>\r\n                    {errors.email}\r\n                </span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <span className=\"popup__input-title\">Пароль</span>\r\n                <input\r\n                    id=\"passwordAuthorization-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"password\"\r\n                    placeholder=\"Введите пароль\"\r\n                    required\r\n                    type=\"password\"\r\n                    minLength=\"2\"\r\n                    // pattern=\"^[a-zA-Z\\s]+$\"\r\n                    className=\"popup__input popup__input_password-authorization\"\r\n                    value={password || \"\"}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"mailAuthorization-input-error\" className={errors ? \"popup__input-error popup__input-error_visible\" : \"popup__input-error\"}>\r\n                    {errors.password === \"Введите данные в указанном формате.\" ? \"Смените пожалуйста раскладку клавиатуры.\" : errors.password}\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n};\r\nexport default PopupAuthorization;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"../PopupWithForm/PopupWithForm\";\r\nimport \"./PopupRegistration.css\";\r\nimport { useFormWithValidation } from \"../../utils/FormValidation\";\r\n\r\nconst PopupRegistration = ({ isOpenRegistr, onClose, onOpenAuthorization, onRegister, success, setSuccessOpen, error409, setSuccess, isLoading, waitResponse }) => {\r\n\r\n//     Комментарий: если запрос на новостей, авторизация или регистрация завершился ошибкой (например если пропал интернет), то пользователь должен увидеть сообщение\r\n//  поля формы заблокированы во время отправки запросов. \r\n// Комментарий: на время выполнения запроса считается хорошей практикой блокировать поля ввода и кнопку отправки формы, что бы пользователь не мог выполнить новые запросы до завершения предыдущего. Попап не должен закрыватсья до ответа сервера\r\n\r\n    // валидатор\r\n    const { values, handleChange, errors, isValid, resetForm, setErrors } = useFormWithValidation();\r\n    const { email, password, name } = values;\r\n\r\n    // записывает сообщение об ошибке при отправке пустой формы\r\n    function handleBtnClick(e) {\r\n        const event = e.target.closest(\"form\").email;\r\n        const name = event.name;\r\n        return setErrors({ ...errors, [name]: event.validationMessage });\r\n    }\r\n\r\n    // в случае успешной регистрации закрывает и очищает форму, открывает попап подтверждения регистрации.\r\n    React.useEffect(() => {\r\n        if (success) {\r\n            onClose();\r\n            resetForm();\r\n            setSuccessOpen(true);\r\n            setSuccess(false);\r\n        }\r\n    }, [onClose, resetForm, setSuccessOpen, success, setSuccess]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        isValid && onRegister(name, email, password);\r\n        handleBtnClick(e);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"registration\"\r\n            nameBtn=\"Зарегистрироваться\"\r\n            textUnderBtn=\"Войти\"\r\n            title=\"Регистрация\"\r\n            isOpen={isOpenRegistr}\r\n            onClose={onClose}\r\n            onOpenAuthorization={onOpenAuthorization}\r\n            onSubmit={handleSubmit}\r\n            isFormValid={isValid}\r\n            error409={error409}\r\n            isLoading={isLoading}\r\n            waitResponse={waitResponse}\r\n            resetForm={resetForm}\r\n        >\r\n            <label className=\"popup__label\">\r\n                <span className=\"popup__input-title\">Email</span>\r\n                <input id=\"mailRegistration-input\" autoComplete=\"off\" name=\"email\" placeholder=\"Введите почту\" required type=\"email\" className=\"popup__input popup__input_mail-registration\" value={email || \"\"} onChange={handleChange} />\r\n                <span id=\"emailRegistration-input-error\" className={errors ? \"popup__input-error popup__input-error_visible\" : \"popup__input-error\"}>\r\n                    {errors.email}\r\n                </span>\r\n            </label>\r\n            <label className=\"popup__label\">\r\n                <span className=\"popup__input-title\">Пароль</span>\r\n                <input\r\n                    id=\"passwordRegistration-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"password\"\r\n                    placeholder=\"Введите пароль\"\r\n                    required\r\n                    type=\"password\"\r\n                    minLength=\"2\"\r\n                    // pattern=\"^[a-zA-Z\\s]+$\"\r\n                    className=\"popup__input popup__input_password-registration\"\r\n                    value={password || \"\"}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"passwordRegistration-input-error\" className={errors ? \"popup__input-error popup__input-error_visible\" : \"popup__input-error\"}>\r\n                    {errors.password === \"Введите данные в указанном формате.\" ? \"Смените пожалуйста раскладку клавиатуры.\" : errors.password}\r\n                </span>\r\n            </label>\r\n\r\n            <label className=\"popup__label\">\r\n                <span className=\"popup__input-title\">Имя</span>\r\n                <input\r\n                    id=\"nameRegistration-input\"\r\n                    autoComplete=\"off\"\r\n                    name=\"name\"\r\n                    placeholder=\"Введите свое имя\"\r\n                    required\r\n                    type=\"text\"\r\n                    minLength=\"2\"\r\n                    maxLength=\"30\"\r\n                    className=\"popup__input popup__input_password-registration\"\r\n                    value={name || \"\"}\r\n                    onChange={handleChange}\r\n                />\r\n                <span id=\"nameRegistration-input-error\" className={true ? \"popup__input-error popup__input-error_visible\" : \"popup__input-error\"}>\r\n                    {errors.name}\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    );\r\n};\r\nexport default PopupRegistration;\r\n","import React from \"react\";\r\nimport \"./MenuButton.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport logoutIconWhite from \"../../images/svg/logout_white.svg\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction MenuButton({ isMenuOpen, onClose, onOpenAuthorization, isSavedMenuOpen, loggedIn, onSignOut}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const history = useHistory();\r\n\r\n    function handleClick() {\r\n        onClose();\r\n        if(loggedIn){\r\n            history.push(\"/\");\r\n            onSignOut();\r\n        }else{\r\n            onOpenAuthorization()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={`menu-button ${isMenuOpen || isSavedMenuOpen ? \"menu-button_opened\" : \"\"}`} onClick={(e) => e.target.classList.contains(\"menu-button\") && onClose()}>\r\n            <div className=\"menu-button__container\" >\r\n                <div className=\"menu-button__header\">\r\n                    <h2 className=\"menu-button__logo\">NewsExplorer</h2>\r\n                    <button onClick={onClose} className=\"menu-button__close\"></button>\r\n                </div>\r\n                <nav className=\"menu-button__nav\">\r\n                    <ul className=\"menu-button__menu\">\r\n                        <li className=\"menu-button__li\">\r\n                            <Link onClick={onClose} className=\"menu-button__link\" to=\"/\">\r\n                                Главная\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"menu-button__li\">\r\n                        {loggedIn ?<Link onClick={onClose} className=\"menu-button__link\" to=\"/saved-news\">\r\n                                Сохранённые статьи\r\n                            </Link> : <></>}\r\n                        </li>\r\n                    </ul>\r\n                    {!loggedIn  ? (\r\n                        <button onClick={handleClick} className=\"menu-button__btn-authorization\" aria-label=\"кнопка авторизации и выхода\" type=\"button\">\r\n                            Авторизоваться\r\n                        </button>\r\n                    ) : ( \r\n                        <button onClick={handleClick} className=\"menu-button__btn-authorization\" aria-label=\"кнопка авторизации и выхода\" type=\"button\">\r\n                            {currentUser.user}\r\n                            <img src={logoutIconWhite} alt=\"стрелка выхода\" className=\"navigation__img-logout\" />\r\n                        </button>\r\n                    )}\r\n                </nav>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default MenuButton;\r\n","class Api {\r\n    constructor({ headers, baseUrl }) {\r\n        this._headers = headers;\r\n        this._baseUrl = baseUrl;\r\n        this._to = new Date();\r\n        // время за которое выполняется поиск (7)  нужно вынести в константы в отдельный файл\r\n        let dateWeekBefore = new Date().setDate(new Date().getDate() - 7);\r\n        this._from = new Date(dateWeekBefore);\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n    getArticles(keyword) {\r\n        return fetch(`${this._baseUrl}/v2/everything?q=${keyword}&from=${this._from.toISOString().slice(0, 10)}&to=${this._to.toISOString().slice(0, 10)}&pageSize=100&sortBy=popularity&apiKey=91df3880031b4dabba1ae1c6a6829e73`, {\r\n            headers: this._headers,\r\n        }).then(this._getResponseData);\r\n    }\r\n}\r\n\r\nconst NewsApi = new Api({\r\n    baseUrl: \"https://nomoreparties.co/news\",\r\n    headers: {\r\n        authorization: \"apiKey=91df3880031b4dabba1ae1c6a6829e73\",\r\n        \"Content-Type\": \"application/json\",\r\n    },\r\n});\r\n\r\nexport default NewsApi;\r\n","class Api {\r\n  constructor({ headers, baseUrl }) {\r\n      this._headers = headers;\r\n      this._baseUrl = baseUrl;\r\n  }\r\n\r\n  // получает сохраненные статьи\r\n  getArticles() {\r\n      return fetch(`${this._baseUrl}/articles`, {\r\n          headers: this._headers,\r\n      }).then(this._getResponseData);\r\n  }\r\n\r\n  // удаляет статью\r\n  deleteArticles(articleId) {\r\n      return fetch(`${this._baseUrl}/articles/${articleId}`, {\r\n          method: \"DELETE\",\r\n          headers: this._headers,\r\n      }).then(this._getResponseData);\r\n  }\r\n\r\n  // публикует статью\r\n  postArticles(keyword, article) {\r\n      return fetch(`${this._baseUrl}/articles`, {\r\n          method: \"POST\",\r\n          headers: this._headers,\r\n          body: JSON.stringify({\r\n              keyword: keyword,\r\n              title: article.title,\r\n              text: article.description,\r\n              date: article.publishedAt,\r\n              source: article.source.name,\r\n              link: article.url,\r\n              image: article.urlToImage,\r\n          }),\r\n      }).then(this._getResponseData);\r\n  }\r\n\r\n  updateToken() {\r\n      this._headers.authorization = `Bearer ${localStorage.getItem(\"jwt\")}`;\r\n  }\r\n\r\n  // получает данные юзера\r\n  getUser() {\r\n      return fetch(`${this._baseUrl}/users/me`, {\r\n          headers: this._headers,\r\n      }).then(this._getResponseData);\r\n  }\r\n\r\n  _getResponseData(res) {\r\n      if (!res.ok) {\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n      }\r\n      return res.json();\r\n  }\r\n}\r\n\r\nconst MainApi = new Api({\r\n  baseUrl: \"http://api.new-sprint.students.nomoreparties.space/\",\r\n\r\n  headers: {\r\n      authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default MainApi;\r\n","import React from \"react\";\r\nimport { Route, Redirect} from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    const jwt =  localStorage.getItem(\"jwt\");\r\n   \r\n    return (\r\n      <Route>\r\n        {\r\n          jwt\r\n          ? <Component {...props} /> \r\n          : <Redirect\r\n          to={{\r\n            pathname: \"/\",\r\n            openAuth: props.onOpenAuthorization() \r\n          }}/>  \r\n        }\r\n      </Route>\r\n    );\r\n  };\r\n  \r\n  export default ProtectedRoute;\r\n","const BASE_URL = \"http://api.new-sprint.students.nomoreparties.space/\";\r\n\r\n\r\nconst checkResponse = (response) =>\r\n  response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`);\r\n\r\nexport const register = (name, email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      name,\r\n      email,\r\n      password\r\n    }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  }).then(checkResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(checkResponse);\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Main from \"../Main/Main\";\r\nimport SavedNews from \"../SavedNews/SavedNews\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport PopupSignupSuccess from \"../PopupSignupSuccess/PopupSignupSuccess\";\r\nimport PopupAuthorization from \"../PopupAuthorization/PopupAuthorization\";\r\nimport PopupRegistration from \"../PopupRegistration/PopupRegistration\";\r\nimport MenuButton from \"../MenuButton/MenuButton\";\r\nimport NewsApi from \"../../utils/NewsAPI\";\r\nimport MainApi from \"../../utils/MainApi\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport * as auth from \"../../auth\";\r\n\r\nfunction App() {\r\n    // стейты модальных окон\r\n    const [isAuthorizationPopupOpen, setIsAuthorizationPopupOpen] = React.useState(false);\r\n    const [isRegistrationPopupOpen, setIsRegistrationPopupOpen] = React.useState(false);\r\n    const [isSignupSuccessPopupOpen, setIsSignupSuccessPopupOpen] = React.useState(false);\r\n\r\n    //\r\n    const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n    const [isSavedMenuOpen, setIsSavedMenuOpen] = React.useState(false);\r\n\r\n    // стейты для авторизации\r\n    const [loggedIn, setLoggedIn] = React.useState(null);\r\n    const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n    // в случае удачной регистрации открывает попап с сообщением\r\n    const [successOpen, setSuccessOpen] = React.useState(false);\r\n    const [success, setSuccess] = React.useState(false);\r\n\r\n    // если юзер уже зарегистрирован появится сообщение в попапе регистрации\r\n    const [error409, setError409] = React.useState(\"\");\r\n\r\n    // cтейт для карточек results\r\n    const [saveArticles, setSaveArticles] = React.useState([]);\r\n\r\n    const jsonArt = JSON.parse(localStorage.getItem(\"articles\"));\r\n    // cтейт для cохраненных статей\r\n    const [articles, setArticles] = React.useState(jsonArt || {});\r\n\r\n    // стейт спиннера\r\n    const [isLoading, setIsLoading] = React.useState(false);\r\n    // стейт компонента \"NotFound\"\r\n    const [noResult, setNoResult] = React.useState(false);\r\n\r\n    // получает фразу из поля поиска\r\n    const [keyword, setKeyword] = React.useState(\"\");\r\n\r\n    const [waitResponse, setWaitResponse] = React.useState(false);\r\n\r\n    const [resAddArticle, setResAddArticle] = React.useState(false);\r\n\r\n    //проверяет токен при загрузке страницы\r\n    React.useEffect(() => {\r\n        tokenCheck();\r\n    }, []);\r\n\r\n    // проверяет токен, меняет состояние loggedIn\r\n    const tokenCheck = () => {\r\n        const jwt = localStorage.getItem(\"jwt\");\r\n        if (jwt) {\r\n            auth.getContent(jwt)\r\n                .then((res) => {\r\n                    if (res) {\r\n                        setCurrentUser(res.user);\r\n                        setLoggedIn(jwt);\r\n                    }\r\n                })\r\n                .catch((err) => console.error(err));\r\n        }\r\n        // else{\r\n        //     setLoggedIn(false);\r\n        // }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        MainApi.getUser()\r\n            .then((results) => {\r\n                setCurrentUser(results);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }, [loggedIn]);\r\n\r\n    React.useEffect(() => {\r\n        loggedIn &&\r\n            MainApi.getArticles()\r\n                .then(setIsLoading(true))\r\n                .then((results) => {\r\n                    setResAddArticle(results)\r\n                    setIsLoading(false);\r\n                    const articles = results.data;\r\n                    setSaveArticles(articles);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n    }, [loggedIn]);\r\n\r\n    // получает данные карточки\r\n    React.useEffect(() => {\r\n        keyword !== \"\" &&\r\n            NewsApi.getArticles(keyword)\r\n                .then(setIsLoading(true))\r\n                .then((results) => {\r\n                    const resArticles = results.articles;\r\n                    const jsonArticles = JSON.stringify({ keyword, resArticles });\r\n                    localStorage.setItem(\"articles\", jsonArticles);\r\n                    setNoResult(false);\r\n                    setArticles({ keyword, resArticles });\r\n                    setIsLoading(false);\r\n                    results.totalResults === 0 && setNoResult(true);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n    }, [keyword]);\r\n\r\n    // регистрирует нового пользователя\r\n    const handleRegister = (name, email, password) => {\r\n        setWaitResponse(true);\r\n        auth.register(name, email, password)\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    setSuccess(true);\r\n                    setError409(\"\");\r\n                    setWaitResponse(false);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                err === \"Ошибка: 409\" && setError409(\"Такой пользователь уже есть.\");\r\n                setWaitResponse(false);\r\n            });\r\n    };\r\n\r\n    // часть логики авторизации, добавление токена в хранилище\r\n    const handleResponse = (data) => {\r\n        if (data) {\r\n            localStorage.setItem(\"jwt\", data.token);\r\n            MainApi.updateToken();\r\n            setLoggedIn(true);\r\n        }\r\n    };\r\n\r\n    // авторизация\r\n    const handleLogin = (email, password) => {\r\n        auth.authorize(email, password)\r\n            .then(setWaitResponse(true))\r\n            .then(handleResponse)\r\n            .then(tokenCheck)\r\n            .catch((err) => {\r\n                console.error(err);\r\n            });\r\n    };\r\n\r\n    // удаляет jwt при выходе\r\n    const handleSignOut = () => {\r\n        localStorage.removeItem(\"jwt\");\r\n        setCurrentUser({});\r\n        setLoggedIn(false);\r\n        localStorage.removeItem(\"articles\");\r\n        setArticles([])\r\n        // if(loggedIn === null){\r\n        //     return <div>Loader</div>\r\n        // }\r\n    }\r\n    \r\n\r\n    // публикация карточки\r\n    function handleAddArticles({ keyword, article }) {\r\n        MainApi.postArticles(keyword, article)\r\n            .then(() => {\r\n                MainApi.getArticles().then((res) => setSaveArticles(res.data));\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    // удаление карточки\r\n    function handleCardDelete(article) {\r\n        MainApi.deleteArticles(article._id)\r\n            .then(() => {\r\n                const newArticles = saveArticles.filter((a) => a._id !== article._id);\r\n                setSaveArticles(newArticles);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    // эффект закрытия эскейпом\r\n    React.useEffect(() => {\r\n        const closeOnEsc = (e) => e.key === \"Escape\" && closeAllPopups();\r\n        document.addEventListener(\"keyup\", closeOnEsc);\r\n        return () => document.removeEventListener(\"keyup\", closeOnEsc);\r\n    }, []);\r\n\r\n    function handleAuthorizationPopupClick() {\r\n        setIsAuthorizationPopupOpen(true);\r\n    }\r\n\r\n    function handleRegistrationPopupClick() {\r\n        setIsRegistrationPopupOpen(true);\r\n    }\r\n    function handleESignupSuccessPopupClick() {\r\n        setIsSignupSuccessPopupOpen(true);\r\n    }\r\n\r\n    // закрывает все попапы\r\n    function closeAllPopups() {\r\n        setIsAuthorizationPopupOpen(false);\r\n        setIsRegistrationPopupOpen(false);\r\n        setSuccessOpen(false);\r\n        setIsMenuOpen(false);\r\n        setIsSavedMenuOpen(false);\r\n        setWaitResponse(false);\r\n    }\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"App\">\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <Main\r\n                            onSignOut={handleSignOut}\r\n                            onOpenAuthorization={handleAuthorizationPopupClick}\r\n                            onClose={closeAllPopups}\r\n                            openBurgerMenu={setIsMenuOpen}\r\n                            isOpenAuthor={isAuthorizationPopupOpen}\r\n                            isOpenRegistr={isRegistrationPopupOpen}\r\n                            isOpenSignSucc={isSignupSuccessPopupOpen}\r\n                            articles={articles}\r\n                            setKeyword={setKeyword}\r\n                            keyword={keyword}\r\n                            isLoading={isLoading}\r\n                            noResult={noResult}\r\n                            setNoResult={setNoResult}\r\n                            loggedIn={loggedIn}\r\n                            onAddArticles={handleAddArticles}\r\n                            handleCardDelete={handleCardDelete}\r\n                            saveArticles={saveArticles}\r\n                            resAddArticle={resAddArticle}\r\n                        />\r\n                    </Route>\r\n                    <ProtectedRoute\r\n                        path=\"/saved-news\"\r\n                        loggedIn={loggedIn}\r\n                        component={SavedNews}\r\n                        onSignOut={handleSignOut}\r\n                        openSavedBurgerMenu={setIsSavedMenuOpen}\r\n                        onClose={closeAllPopups}\r\n                        keyword={keyword}\r\n                        saveArticles={saveArticles}\r\n                        handleCardDelete={handleCardDelete}\r\n                        isLoading={isLoading}\r\n                        onOpenAuthorization={handleAuthorizationPopupClick}\r\n                        articles={articles}\r\n                    />\r\n                </Switch>\r\n                <Footer />\r\n\r\n                <PopupSignupSuccess onClose={closeAllPopups} onOpenAuthorization={handleAuthorizationPopupClick} successOpen={successOpen} />\r\n\r\n                <PopupAuthorization onClose={closeAllPopups} onOpenRegistration={handleRegistrationPopupClick} isOpenAuthor={isAuthorizationPopupOpen} onLogin={handleLogin} loggedIn={loggedIn} waitResponse={waitResponse} />\r\n\r\n                <PopupRegistration\r\n                    isOpenRegistr={isRegistrationPopupOpen}\r\n                    onClose={closeAllPopups}\r\n                    onOpenAuthorization={handleAuthorizationPopupClick}\r\n                    setIsSignupSuccessPopupOpen={handleESignupSuccessPopupClick}\r\n                    onRegister={handleRegister}\r\n                    success={success}\r\n                    setSuccessOpen={setSuccessOpen}\r\n                    error409={error409}\r\n                    setSuccess={setSuccess}\r\n                    waitResponse={waitResponse}\r\n                />\r\n\r\n                <MenuButton isMenuOpen={isMenuOpen} isSavedMenuOpen={isSavedMenuOpen} onClose={closeAllPopups} onOpenAuthorization={handleAuthorizationPopupClick} loggedIn={loggedIn} onSignOut={handleSignOut} />\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport './index.css';\r\nimport App from '../src/components/App/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n   <BrowserRouter>\r\n    <App />\r\n   </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}